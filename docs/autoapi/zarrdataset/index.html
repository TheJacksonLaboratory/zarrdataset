<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>zarrdataset &mdash; ZarrDataset  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ZarrDataset
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../readme_link.html">ZarrDataset</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../examples/basic_example.html">Basic ZarrDataset usage example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/basic_example_pytorch.html">Integration of ZarrDataset with PyTorch’s DataLoader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/basic_example_tensorflow.html">Integration of ZarrDataset with Tensorflow Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/basic_masked_datasets_example.html">Loading patches/windows from masked regions of images with ZarrDataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/advanced_masked_datasets_example.html">Custom masks for sampling specific regions from images with ZarrDataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/basic_labeled_datasets_example.html">Labeled dataset loading with ZarrDataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/advanced_example_pytorch.html">Integration of ZarrDataset with PyTorch’s DataLoader (Advanced)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../license_link.html">License</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ZarrDataset</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zarrdataset</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/autoapi/zarrdataset/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-zarrdataset">
<span id="zarrdataset"></span><h1><a class="reference internal" href="#module-zarrdataset" title="zarrdataset"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zarrdataset</span></code></a><a class="headerlink" href="#module-zarrdataset" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="_augs/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zarrdataset._augs</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="_imageloaders/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zarrdataset._imageloaders</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="_maskfuncs/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zarrdataset._maskfuncs</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="_samplers/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zarrdataset._samplers</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="_utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zarrdataset._utils</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="_zarrdataset/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zarrdataset._zarrdataset</span></code></a></li>
</ul>
</div>
</section>
<section id="package-contents">
<h2>Package Contents<a class="headerlink" href="#package-contents" title="Permalink to this heading"></a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#zarrdataset.PatchSampler" title="zarrdataset.PatchSampler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PatchSampler</span></code></a></p></td>
<td><p>Patch sampling algorithm to retrieve image patches/windows from images.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#zarrdataset.BlueNoisePatchSampler" title="zarrdataset.BlueNoisePatchSampler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BlueNoisePatchSampler</span></code></a></p></td>
<td><p>Patch sampler that retrieves patches from coordinates sampled using the</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#zarrdataset.MaskGenerator" title="zarrdataset.MaskGenerator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MaskGenerator</span></code></a></p></td>
<td><p>Base class to define transformation functions on ImageBase objects.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#zarrdataset.WSITissueMaskGenerator" title="zarrdataset.WSITissueMaskGenerator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WSITissueMaskGenerator</span></code></a></p></td>
<td><p>Mask generator for tissue objects in Whole Slide Images (WSI).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#zarrdataset.ImageBase" title="zarrdataset.ImageBase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageBase</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#zarrdataset.ImageLoader" title="zarrdataset.ImageLoader"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageLoader</span></code></a></p></td>
<td><p>Image lazy loader class.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#zarrdataset.ImageCollection" title="zarrdataset.ImageCollection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageCollection</span></code></a></p></td>
<td><p>A class to contain a collection of inputs from different modalities.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#zarrdataset.ToDtype" title="zarrdataset.ToDtype"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ToDtype</span></code></a></p></td>
<td><p>Converted a numpy NDArray to the specified data type.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#zarrdataset.DatasetSpecs" title="zarrdataset.DatasetSpecs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatasetSpecs</span></code></a></p></td>
<td><p>Data specification guidelines to add image modalities to a ZarrDataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#zarrdataset.ImagesDatasetSpecs" title="zarrdataset.ImagesDatasetSpecs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImagesDatasetSpecs</span></code></a></p></td>
<td><p>Specification to add <cite>image</cite> data to a ZarrDataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#zarrdataset.LabelsDatasetSpecs" title="zarrdataset.LabelsDatasetSpecs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LabelsDatasetSpecs</span></code></a></p></td>
<td><p>Specification to add <cite>labels</cite> to a ZarrDataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#zarrdataset.MasksDatasetSpecs" title="zarrdataset.MasksDatasetSpecs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MasksDatasetSpecs</span></code></a></p></td>
<td><p>Specification to add <cite>masks</cite> to a ZarrDataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#zarrdataset.ZarrDataset" title="zarrdataset.ZarrDataset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ZarrDataset</span></code></a></p></td>
<td><p>A Zarr-based dataset class capable of handling large volumes of image</p></td>
</tr>
</tbody>
</table>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#zarrdataset.image2array" title="zarrdataset.image2array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">image2array</span></code></a>(arr_src[, data_group, zarr_store])</p></td>
<td><p>Open images stored in zarr format or any image format that can be opened</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#zarrdataset.parse_rois" title="zarrdataset.parse_rois"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_rois</span></code></a>(→ List[slice])</p></td>
<td><p>Parse a list of strings defining ROIs.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#zarrdataset.parse_metadata" title="zarrdataset.parse_metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_metadata</span></code></a>(→ List[dict])</p></td>
<td><p>Parse the filename, data groups, axes ordering, ROIs from <cite>filename</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#zarrdataset.map_axes_order" title="zarrdataset.map_axes_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">map_axes_order</span></code></a>(source_axes[, target_axes])</p></td>
<td><p>Get the indices of a set of axes that reorders it to match another set</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#zarrdataset.select_axes" title="zarrdataset.select_axes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">select_axes</span></code></a>(source_axes, axes_selection)</p></td>
<td><p>Get a sliced selection of axes from a zarr array.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#zarrdataset.connect_s3" title="zarrdataset.connect_s3"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connect_s3</span></code></a>(filename_sample)</p></td>
<td><p>Stablish a connection with a S3 bucket.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#zarrdataset.isconsolidated" title="zarrdataset.isconsolidated"><code class="xref py py-obj docutils literal notranslate"><span class="pre">isconsolidated</span></code></a>(arr_src)</p></td>
<td><p>Check if the zarr file is consolidated so it is faster to open.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#zarrdataset.scale_coords" title="zarrdataset.scale_coords"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scale_coords</span></code></a>(selection_range[, scale])</p></td>
<td><p>Scale a set of top-lefts, bottom-rights coordinates, in any dimension,</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#zarrdataset.translate2roi" title="zarrdataset.translate2roi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">translate2roi</span></code></a>(index, roi, source_axes, axes)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#zarrdataset.zarrdataset_worker_init_fn" title="zarrdataset.zarrdataset_worker_init_fn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zarrdataset_worker_init_fn</span></code></a>(worker_id)</p></td>
<td><p>ZarrDataset multithread workers initialization function.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#zarrdataset.chained_zarrdataset_worker_init_fn" title="zarrdataset.chained_zarrdataset_worker_init_fn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">chained_zarrdataset_worker_init_fn</span></code></a>(worker_id)</p></td>
<td><p>ZarrDataset multithread workers initialization function for PyTorch's</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="zarrdataset.PatchSampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">PatchSampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_area</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spatial_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ZYX'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_samplers.html#PatchSampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.PatchSampler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Patch sampling algorithm to retrieve image patches/windows from images.</p>
<p>If the image used for extracting patches has a mask associated to it, only
patches from masked regions of the image are retrieved.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patch_size</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>Iterable</em><em>[</em><em>int</em><em>]</em><em>, </em><em>dict</em><em>]</em>) – <p>Size in pixels of the patches extracted on each axis. Only rectangular
patches (hyper-cuboids) are supported by now. If a single int is
passed, that size is used for all dimensions. If an iterable (list,
tuple) is passed, each value will be assigned to the corresponding axes</p>
<blockquote>
<div><p>in <cite>spatial_axes</cite>, the size of <cite>patch_size</cite> must match the lenght of</p>
</div></blockquote>
<dl class="simple">
<dt><a href="#id1"><span class="problematic" id="id2">`</span></a>spatial_axes’. If a dict is passed, this should have at least the size</dt><dd><p>of the patch of the axes listed in <cite>spatial_axes</cite>.  Use the same</p>
</dd>
</dl>
<p>convention as how Zarr structure array chunks in order to handle patch
shapes and channels correctly.</p>
</p></li>
<li><p><strong>min_area</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>float</em><em>]</em>) – Minimum patch area covered by the mask to consider it samplable. A
number in range [0, 1) will be used as percentage of the patch size. A
number &gt;= 1 will be considered as the number of minimum patch pixels
covered by the mask.</p></li>
<li><p><strong>spatial_axes</strong> (<em>str</em>) – The spatial axes from where patches can be extracted.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.PatchSampler._compute_corners">
<span class="sig-name descname"><span class="pre">_compute_corners</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">non_zero_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_samplers.html#PatchSampler._compute_corners"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.PatchSampler._compute_corners" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.PatchSampler._compute_overlap">
<span class="sig-name descname"><span class="pre">_compute_overlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">corners</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_samplers.html#PatchSampler._compute_overlap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.PatchSampler._compute_overlap" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.PatchSampler._compute_grid">
<span class="sig-name descname"><span class="pre">_compute_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk_mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_samplers.html#PatchSampler._compute_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.PatchSampler._compute_grid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.PatchSampler._compute_valid_toplefts">
<span class="sig-name descname"><span class="pre">_compute_valid_toplefts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk_mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_samplers.html#PatchSampler._compute_valid_toplefts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.PatchSampler._compute_valid_toplefts" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.PatchSampler._compute_toplefts_slices">
<span class="sig-name descname"><span class="pre">_compute_toplefts_slices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="_imageloaders/index.html#zarrdataset._imageloaders.ImageBase" title="zarrdataset._imageloaders.ImageBase"><span class="pre">zarrdataset._imageloaders.ImageBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_mask_toplefts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_tlbr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_samplers.html#PatchSampler._compute_toplefts_slices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.PatchSampler._compute_toplefts_slices" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.PatchSampler.compute_chunks">
<span class="sig-name descname"><span class="pre">compute_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_collection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="_imageloaders/index.html#zarrdataset._imageloaders.ImageCollection" title="zarrdataset._imageloaders.ImageCollection"><span class="pre">zarrdataset._imageloaders.ImageCollection</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_samplers.html#PatchSampler.compute_chunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.PatchSampler.compute_chunks" title="Permalink to this definition"></a></dt>
<dd><p>Compute the top-left positions of the chunks in which the image is
divided before taking patches from them.</p>
<p>The chunk size should match the zarr’s chunk sizes to make the patch
extraction more efficient.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image</strong> (<a class="reference internal" href="#zarrdataset.ImageCollection" title="zarrdataset.ImageCollection"><em>zarrdataset.ImageCollection</em></a>) – The image from where the patches are extracted.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>chunks_grids</strong> – Each valid chunk is returned in form of a slice that can be
extracted from the image. The slices are stored as tuples, with one
slice per axis.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of tuples of slices</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.PatchSampler.compute_patches">
<span class="sig-name descname"><span class="pre">compute_patches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_collection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="_imageloaders/index.html#zarrdataset._imageloaders.ImageCollection" title="zarrdataset._imageloaders.ImageCollection"><span class="pre">zarrdataset._imageloaders.ImageCollection</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_tlbr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_samplers.html#PatchSampler.compute_patches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.PatchSampler.compute_patches" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.PatchSampler.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_samplers.html#PatchSampler.__repr__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.PatchSampler.__repr__" title="Permalink to this definition"></a></dt>
<dd><p>String representation of classes derived from PatchSampler.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zarrdataset.BlueNoisePatchSampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">BlueNoisePatchSampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample_positions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_overlap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_samplers.html#BlueNoisePatchSampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.BlueNoisePatchSampler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#zarrdataset.PatchSampler" title="zarrdataset.PatchSampler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PatchSampler</span></code></a></p>
<p>Patch sampler that retrieves patches from coordinates sampled using the
Bridson sampling algorithm, also known as Blue-noise sampling algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patch_size</strong> (<em>int</em><em>, </em><em>iterable</em><em>, </em><em>dict</em>) – Size in pixels of the patches extracted. Only squared patches are
supported by now.</p></li>
<li><p><strong>resample_positions</strong> (<em>bool</em>) – Whether positions should be resampled for each new chunk or not.</p></li>
<li><p><strong>allow_overlap</strong> (<em>bool</em>) – Whether overlapping of patches is allowed or not.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.BlueNoisePatchSampler.compute_sampling_positions">
<span class="sig-name descname"><span class="pre">compute_sampling_positions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_samplers.html#BlueNoisePatchSampler.compute_sampling_positions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.BlueNoisePatchSampler.compute_sampling_positions" title="Permalink to this definition"></a></dt>
<dd><p>Compute the sampling positions using blue-noise sampling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>force</strong> (<em>bool</em>) – Whether force resampling positions, or reuse existing positions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.BlueNoisePatchSampler._compute_valid_toplefts">
<span class="sig-name descname"><span class="pre">_compute_valid_toplefts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk_mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_samplers.html#BlueNoisePatchSampler._compute_valid_toplefts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.BlueNoisePatchSampler._compute_valid_toplefts" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zarrdataset.MaskGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">MaskGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_maskfuncs.html#MaskGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.MaskGenerator" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class to define transformation functions on ImageBase objects.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.MaskGenerator._compute_transform">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_compute_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_maskfuncs.html#MaskGenerator._compute_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.MaskGenerator._compute_transform" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.MaskGenerator.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_maskfuncs.html#MaskGenerator.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.MaskGenerator.__call__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zarrdataset.WSITissueMaskGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">WSITissueMaskGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span> <span class="pre">/</span> <span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'YX'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_maskfuncs.html#WSITissueMaskGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.WSITissueMaskGenerator" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#zarrdataset.MaskGenerator" title="zarrdataset.MaskGenerator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MaskGenerator</span></code></a></p>
<p>Mask generator for tissue objects in Whole Slide Images (WSI).</p>
<p>This will compute a mask of scale <cite>mask_scale</cite> from the input image where
tissue (darker pixels than white background) are present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask_scale</strong> (<em>float</em>) – </p></li>
<li><p><strong>min_size</strong> (<em>int</em>) – </p></li>
<li><p><strong>area_threshold</strong> (<em>int</em><em>,</em>) – </p></li>
<li><p><strong>thresh</strong> (<em>Union</em><em>[</em><em>float</em><em>, </em><em>None</em><em>]</em>) – </p></li>
<li><p><strong>axes</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.WSITissueMaskGenerator._compute_transform">
<span class="sig-name descname"><span class="pre">_compute_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_maskfuncs.html#WSITissueMaskGenerator._compute_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.WSITissueMaskGenerator._compute_transform" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zarrdataset.image2array">
<span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">image2array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr_src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Group</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zarr_store</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.storage.Store</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_imageloaders.html#image2array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.image2array" title="Permalink to this definition"></a></dt>
<dd><p>Open images stored in zarr format or any image format that can be opened
by PIL as an array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr_src</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>zarr.Group</em><em>, </em><em>zarr.Array</em><em>, </em><em>np.ndarray</em><em>]</em>) – The image filename, or zarr object, to be loaded as a zarr array.</p></li>
<li><p><strong>data_group</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>int</em><em>, </em><em>None</em><em>]</em>) – The group within the zarr file from where the array is loaded. This is
used only when the input file is a zarr object.</p></li>
<li><p><strong>zarr_store</strong> (<em>Union</em><em>[</em><em>zarr.storage.Store</em><em>, </em><em>None</em><em>]</em>) – The class used to open the zarr file. Leave it as None to let this
function to use the most suitable depending to the data location
(s3/remote: FSStore, local disk: DirectoryStore).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>arr</strong> (<em>zarr.Array</em>) – The image as a zarr array.</p></li>
<li><p><strong>store</strong> (<em>None, zarr.storage.Store, PIL.Image, tifffile.ZarrTiffStore</em>) – A connection to the image file that is kept open until the dataset is
not needed, so this connection can be closed properly.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zarrdataset.ImageBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">ImageBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_imageloaders.html#ImageBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ImageBase" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="zarrdataset.ImageBase.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zarrdataset.ImageBase.shape" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zarrdataset.ImageBase.chunk_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">chunk_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zarrdataset.ImageBase.chunk_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zarrdataset.ImageBase.scale">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scale</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#zarrdataset.ImageBase.scale" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase.arr">
<span class="sig-name descname"><span class="pre">arr</span></span><a class="headerlink" href="#zarrdataset.ImageBase.arr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase.spatial_axes">
<span class="sig-name descname"><span class="pre">spatial_axes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ZYX'</span></em><a class="headerlink" href="#zarrdataset.ImageBase.spatial_axes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase.source_axes">
<span class="sig-name descname"><span class="pre">source_axes</span></span><a class="headerlink" href="#zarrdataset.ImageBase.source_axes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase.axes">
<span class="sig-name descname"><span class="pre">axes</span></span><a class="headerlink" href="#zarrdataset.ImageBase.axes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase.mode">
<span class="sig-name descname"><span class="pre">mode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#zarrdataset.ImageBase.mode" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase.permute_order">
<span class="sig-name descname"><span class="pre">permute_order</span></span><a class="headerlink" href="#zarrdataset.ImageBase.permute_order" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase._store">
<span class="sig-name descname"><span class="pre">_store</span></span><a class="headerlink" href="#zarrdataset.ImageBase._store" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase._new_axes">
<span class="sig-name descname"><span class="pre">_new_axes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#zarrdataset.ImageBase._new_axes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase._drop_axes">
<span class="sig-name descname"><span class="pre">_drop_axes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#zarrdataset.ImageBase._drop_axes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase._scale">
<span class="sig-name descname"><span class="pre">_scale</span></span><a class="headerlink" href="#zarrdataset.ImageBase._scale" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase._shape">
<span class="sig-name descname"><span class="pre">_shape</span></span><a class="headerlink" href="#zarrdataset.ImageBase._shape" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase._spatial_reference_shape">
<span class="sig-name descname"><span class="pre">_spatial_reference_shape</span></span><a class="headerlink" href="#zarrdataset.ImageBase._spatial_reference_shape" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase._spatial_reference_axes">
<span class="sig-name descname"><span class="pre">_spatial_reference_axes</span></span><a class="headerlink" href="#zarrdataset.ImageBase._spatial_reference_axes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase._chunk_size">
<span class="sig-name descname"><span class="pre">_chunk_size</span></span><a class="headerlink" href="#zarrdataset.ImageBase._chunk_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase._cached_coords">
<span class="sig-name descname"><span class="pre">_cached_coords</span></span><a class="headerlink" href="#zarrdataset.ImageBase._cached_coords" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zarrdataset.ImageBase._image_func">
<span class="sig-name descname"><span class="pre">_image_func</span></span><a class="headerlink" href="#zarrdataset.ImageBase._image_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ImageBase._iscached">
<span class="sig-name descname"><span class="pre">_iscached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_imageloaders.html#ImageBase._iscached"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ImageBase._iscached" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ImageBase._cache_chunk">
<span class="sig-name descname"><span class="pre">_cache_chunk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_imageloaders.html#ImageBase._cache_chunk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ImageBase._cache_chunk" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ImageBase.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">slice</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_imageloaders.html#ImageBase.__getitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ImageBase.__getitem__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ImageBase._compute_shapes">
<span class="sig-name descname"><span class="pre">_compute_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_imageloaders.html#ImageBase._compute_shapes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ImageBase._compute_shapes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ImageBase.rescale">
<span class="sig-name descname"><span class="pre">rescale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spatial_reference_shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spatial_reference_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_imageloaders.html#ImageBase.rescale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ImageBase.rescale" title="Permalink to this definition"></a></dt>
<dd><p>Rescale this image using the <cite>spatial_reference_shape</cite> as reference.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spatial_reference_shape</strong> (<em>Union</em><em>[</em><em>Iterable</em><em>[</em><em>int</em><em>]</em><em>, </em><em>None</em><em>]</em>) – Reference image shape used to match extracted regions from this
image (e.g., when calling __getitem__, or ImageBase[slice(…)])</p></li>
<li><p><strong>spatial_reference_axes</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>None</em><em>]</em>) – Rescale only this axes from the image, keeping the rest unscaled.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zarrdataset.ImageLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">ImageLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">slice</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">slice</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zarr_store</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.storage.Store</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spatial_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ZYX'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_imageloaders.html#ImageLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ImageLoader" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#zarrdataset.ImageBase" title="zarrdataset.ImageBase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageBase</span></code></a></p>
<p>Image lazy loader class.</p>
<p>Opens the zarr file, or any image that can be open by TiffFile or PIL, as a
Zarr array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – </p></li>
<li><p><strong>source_axes</strong> (<em>str</em>) – </p></li>
<li><p><strong>data_group</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>None</em><em>]</em>) – </p></li>
<li><p><strong>axes</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>None</em><em>]</em>) – </p></li>
<li><p><strong>roi</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>slice</em><em>, </em><em>Iterable</em><em>[</em><em>slice</em><em>]</em><em>, </em><em>None</em><em>]</em>) – </p></li>
<li><p><strong>image_func</strong> (<em>Union</em><em>[</em><em>Callable</em><em>, </em><em>None</em><em>]</em>) – </p></li>
<li><p><strong>zarr_store</strong> (<em>Union</em><em>[</em><em>zarr.storage.Store</em><em>, </em><em>None</em><em>]</em>) – </p></li>
<li><p><strong>spatial_axes</strong> (<em>str</em>) – </p></li>
<li><p><strong>mode</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ImageLoader.__del__">
<span class="sig-name descname"><span class="pre">__del__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_imageloaders.html#ImageLoader.__del__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ImageLoader.__del__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zarrdataset.ImageCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">ImageCollection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spatial_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ZYX'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_imageloaders.html#ImageCollection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ImageCollection" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to contain a collection of inputs from different modalities.</p>
<p>This is used to match images with their respective labels and masks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>collection_args</strong> (<em>dict</em>) – Collection arguments containing specifications to open <cite>images</cite>,
<cite>masks</cite>, <cite>labels</cite>, etc.</p></li>
<li><p><strong>spatial_axes</strong> (<em>str</em>) – Spatial axes of the dataset, which are used to match different
modalities using as reference these axes from the <cite>images</cite> collection.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ImageCollection._generate_mask">
<span class="sig-name descname"><span class="pre">_generate_mask</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_imageloaders.html#ImageCollection._generate_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ImageCollection._generate_mask" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ImageCollection.reset_scales">
<span class="sig-name descname"><span class="pre">reset_scales</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_imageloaders.html#ImageCollection.reset_scales"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ImageCollection.reset_scales" title="Permalink to this definition"></a></dt>
<dd><p>Reset the scales between data modalities to match the <cite>images</cite>
collection shape on the <cite>spatial_axes</cite> only.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ImageCollection.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_imageloaders.html#ImageCollection.__getitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ImageCollection.__getitem__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zarrdataset.parse_rois">
<span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">parse_rois</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rois_str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">slice</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_utils.html#parse_rois"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.parse_rois" title="Permalink to this definition"></a></dt>
<dd><p>Parse a list of strings defining ROIs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rois_str</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – A list of regions of interest parsed from the input string.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>rois</strong> – A list of slices to select regions from arrays.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[slice]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zarrdataset.parse_metadata">
<span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">parse_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_source_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_data_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_rois</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">slice</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_utils.html#parse_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.parse_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Parse the filename, data groups, axes ordering, ROIs from <cite>filename</cite>.</p>
<p>The different fields must be separated by a semicolon (;).
After parsed the filename, data group, and axes, any number of ROIs are
accepted; however, this parser only supports rectangle shaped ROIs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – Path to the image.</p></li>
<li><p><strong>default_source_axes</strong> (<em>src</em>) – Default source axes ordering used when no axes are present in the
filename string.</p></li>
<li><p><strong>default_data_group</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>int</em><em>, </em><em>None</em><em>]</em>) – Default data group used when data group is present in the filename
string.</p></li>
<li><p><strong>default_axes</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>None</em><em>]</em>) – Default output axes ordering used when no target axes are present in
the filename string.</p></li>
<li><p><strong>default_rois</strong> (<em>Union</em><em>[</em><em>Iterable</em><em>[</em><em>slice</em><em>]</em><em>, </em><em>None</em><em>]</em>) – Default roi used when no rois are present in the filename string.</p></li>
<li><p><strong>override_meta</strong> (<em>bool</em>) – Whether to override the values parsed from the filename with the
defaults or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>parsed_metadata</strong> – A list of parsed values from the filename. A single element is
retrieved for each ROI in the filename.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of dicts</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The parsed metadata dictionary has the following structure.
fn : str</p>
<blockquote>
<div><p>The parsed filename</p>
</div></blockquote>
<dl class="simple">
<dt>data_group: str or None</dt><dd><p>The group for zarr images, or key for tiff files</p>
</dd>
<dt>source_axes: str or None</dt><dd><p>The orignal axes ordering</p>
</dd>
<dt>axes: str or None</dt><dd><p>The axes ordering as it being used from the array (may involve
permuting, dropping unused axes, and creating new axes)</p>
</dd>
<dt>rois<span class="classifier">list of slices</span></dt><dd><p>A list of regions of interest parsed from the input string.</p>
</dd>
</dl>
<p>Data groups are expected for files with hierarchical structure, like zarr
and tiff files. This is usually found on pyramid-like files, where the main
image is stored in group <cite>0/0</cite>, and any downsampling version of that are
stored in subgroups <cite>0/1’, ‘0/2</cite>, etc. If the file does not have any
hierarchical structure, leave the space in blank.</p>
<p>Original axes and permuted desired order are expected as
<cite>source axes order</cite>:<cite>target axes order</cite>. Axes identifiers can appear only
once. Different number of target axes from the original number of axes can
be requested. For more axes, dummy axes will be added in the position of
the new requested axes. For less axes, the undefined axes will be
positioned arbitrarly before those specified axes. It is responsability of
the user to make remove unused axes with the a corresponding ROI.
If no reordering is required, do not add the colon (:) on that section.</p>
<p>ROIs are spected as (start coordinate):(lenght of the ROI). Coordinates and
lenghts are expected for each one of the axes in the image, since all ROIs
are taken before any axes reordering. Negative values can be used to select
all indices of that axis.</p>
<p>Example 1:
test_file.zarr;0/0;TCZYX:YXC;(0,0,0,0,0):(1,-1,1,-1,-1)</p>
<p>This will parse a ROI from <cite>test_file.zarr</cite> from the group <cite>0/0</cite>, which is
expetect to have axes ordering as Time (T), Channels (C), Depth (Z),
Height (Y), and Width (X), into an axes order of Height, Width and
Channels. Index <cite>0</cite> is selected from both Time (T) and Depth(Z) axes.</p>
<p>Example 2:
test_file.zarr;1;CYX;(0,0,0):(-1,4,3);(0,5,5):(-1,2,2)</p>
<p>This will parse a ROI from <cite>test_file.zarr</cite> from the array at group <cite>1</cite>,
which is expetect to have axes ordering as Channels (C), Height (Y), and
Width (X). From that array, two ROIs are extracted, one from coordinates
(0, 0) with a shape (4, 3), and other from coordinates (5, 5) with shape
(2, 2). Both ROIs use all the available channels.</p>
<p>Example 3:
test_array.zarr;;CYX:YXC</p>
<p>The <cite>test_array.zarr</cite> file stores an array without any hierarchy, so no
data group is required. Only the channels axes is required to be moved from
the first position to the last one. Because no ROIs are defined, the full
the array will be used.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zarrdataset.map_axes_order">
<span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">map_axes_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'YX'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_utils.html#map_axes_order"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.map_axes_order" title="Permalink to this definition"></a></dt>
<dd><p>Get the indices of a set of axes that reorders it to match another set
of axes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_axes</strong> (<em>str</em>) – Set of axes to be reordered to match <cite>target_axes</cite>.</p></li>
<li><p><strong>target_axes</strong> (<em>str</em>) – Set of axes in the desired order.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>transpose_order</strong> – The indices order in <cite>source_axes</cite> that makes it match <cite>target_axes</cite>.
If <cite>source_axes</cite> has more axes than <cite>target_axes</cite>, the unspecified axes
will be moved to the front of the ordering, leaving the <cite>target_axes</cite>
at the trailing positions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of ints</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The axes must be passed as a string in format <cite>XYZ</cite>, and cannot be appear
more than once.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zarrdataset.select_axes">
<span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">select_axes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes_selection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_utils.html#select_axes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.select_axes" title="Permalink to this definition"></a></dt>
<dd><p>Get a sliced selection of axes from a zarr array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_axes</strong> (<em>str</em>) – Ordered set of axes on the original array.</p></li>
<li><p><strong>axes_selection</strong> (<em>dict</em>) – A relationship of what index to take from each specified axes.
Unspecified axes are fully retrieved.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>sel_slices</strong> (<em>tuple of slices</em>) – A tuple of slices that can be used to select the indices of the
specified axes from an array.</p></li>
<li><p><strong>unfixed_axes</strong> (<em>str</em>) – A string with the ordered set of remaining axes of the array.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The axes must be passed as a string in format <cite>XYZ</cite>, and cannot be appear
more than once.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zarrdataset.connect_s3">
<span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">connect_s3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename_sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_utils.html#connect_s3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.connect_s3" title="Permalink to this definition"></a></dt>
<dd><p>Stablish a connection with a S3 bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename_sample</strong> (<em>str</em>) – A sample filename containing the S3 end-point and bucket names.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>s3_obj</strong> – A dictionary containing the bucket name and a boto3 client connected to
the S3 bucket. If the filename does not points to a S3 bucket, this
returns None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict of None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zarrdataset.isconsolidated">
<span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">isconsolidated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr_src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Group</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Array</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_utils.html#isconsolidated"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.isconsolidated" title="Permalink to this definition"></a></dt>
<dd><p>Check if the zarr file is consolidated so it is faster to open.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr_src</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>zarr.Group</em><em>, </em><em>zarr.Array</em><em>]</em>) – The image filename, or zarr object, to be checked.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>is_consolidated</strong> – Whether zarr array in <cite>arr_src</cite> is consolidated or not.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zarrdataset.scale_coords">
<span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">scale_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selection_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">slice</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_utils.html#scale_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.scale_coords" title="Permalink to this definition"></a></dt>
<dd><p>Scale a set of top-lefts, bottom-rights coordinates, in any dimension,
by <cite>scale</cite> factor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>selection_range</strong> (<em>Iterable</em><em>[</em><em>slice</em><em>]</em>) – The selection range from an n-dimensional array to scale. This can be a
range (start, end), single index, or None, defining the range of
indices taken from each axis.</p></li>
<li><p><strong>scale</strong> (<em>Union</em><em>[</em><em>float</em><em>, </em><em>Iterable</em><em>[</em><em>float</em><em>]</em><em>]</em>) – The factor to rescale the selection range of each axes. If a single
value is passed, all axes are rescaled by that factor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>scaled_selection_range</strong> – The scaled selection range as a tuple of slices</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of slices</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zarrdataset.translate2roi">
<span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">translate2roi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_utils.html#translate2roi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.translate2roi" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zarrdataset.ToDtype">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">ToDtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.dtype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_augs.html#ToDtype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ToDtype" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Converted a numpy NDArray to the specified data type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dtype</strong> (<em>numpy.dtype</em>) – The data type to cast the input array.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ToDtype.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_augs.html#ToDtype.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ToDtype.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Casts the type of <cite>image</cite> to the data type specified with <cite>dtype</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image</strong> (<em>np.ndarray</em>) – A numpy NDArray</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>casted_image</strong> – The sampe input image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ToDtype.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_augs.html#ToDtype.__repr__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ToDtype.__repr__" title="Permalink to this definition"></a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zarrdataset.DatasetSpecs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">DatasetSpecs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modality</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filenames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Group</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.Group</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.Array</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">slice</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">slice</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_loader_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zarr_store</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.storage.Store</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_to_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_zarrdataset.html#DatasetSpecs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.DatasetSpecs" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Data specification guidelines to add image modalities to a ZarrDataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modality</strong> (<em>str</em>) – Specifies the use of this dataset (input image data, labels, masks).</p></li>
<li><p><strong>filenames</strong> (<em>Union</em><em>[</em><em>str</em><em>,</em>) – <dl class="simple">
<dt>Iterable[str],</dt><dd><p>zarr.Group,
Iterable[zarr.Group],
zarr.Array,
Iterable[zarr.Array],
np.ndarray,
Iterable[np.ndarray]]</p>
</dd>
</dl>
<p>The input source either specified by a path/url to a file or a
supported array-like object, or list of them.</p>
</p></li>
<li><p><strong>source_axes</strong> (<em>str</em>) – The orignal array axes ordering.</p></li>
<li><p><strong>axes</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>None</em><em>]</em>) – The axes ordering as it being used from the array (may involve
permuting, dropping unused axes, and creating new axes).</p></li>
<li><p><strong>data_group</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>int</em><em>, </em><em>None</em><em>]</em>) – The group for zarr images, or key for tiff files</p></li>
<li><p><strong>roi</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>slice</em><em>, </em><em>Iterable</em><em>[</em><em>slice</em><em>]</em><em>, </em><em>None</em><em>]</em>) – Regions of interest from the input array that can be used for data
sampling.</p></li>
<li><p><strong>image_loader_func</strong> (<em>Union</em><em>[</em><em>Callable</em><em>, </em><em>None</em><em>]</em>) – A transformation applied to the input array before sampling. Could be
used to define a mask generation function. This is not a data
augmentation transform. To specify a data augmetation transform use
<cite>transform</cite> instead.</p></li>
<li><p><strong>zarr_store</strong> (<em>Union</em><em>[</em><em>zarr.storage.Store</em><em>, </em><em>None</em><em>]</em>) – A specific zarr.storage.Store class to be used to load zarr files.</p></li>
<li><p><strong>transform</strong> (<em>Union</em><em>[</em><em>Callable</em><em>, </em><em>None</em><em>]</em>) – A transform applied to the array before returning it after sampling.
This can be used to specify data augmentation transforms.</p></li>
<li><p><strong>add_to_output</strong> (<em>bool</em>) – Whether add this modality to the output after sampling or not. For
example, labels would be added to the output along with the input
image array, while masks might not be needed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zarrdataset.ImagesDatasetSpecs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">ImagesDatasetSpecs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Group</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.Group</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.Array</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">slice</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">slice</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_loader_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zarr_store</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.storage.Store</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modality</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'images'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_zarrdataset.html#ImagesDatasetSpecs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ImagesDatasetSpecs" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#zarrdataset.DatasetSpecs" title="zarrdataset.DatasetSpecs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatasetSpecs</span></code></a></p>
<p>Specification to add <cite>image</cite> data to a ZarrDataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> (<em>Union</em><em>[</em><em>str</em><em>,</em>) – <dl class="simple">
<dt>Iterable[str],</dt><dd><p>zarr.Group,
Iterable[zarr.Group],
zarr.Array,
Iterable[zarr.Array],
np.ndarray,
Iterable[np.ndarray]]</p>
</dd>
</dl>
<p>The input source either specified by a path/url to a file or a
supported array-like object, or list of them.</p>
</p></li>
<li><p><strong>source_axes</strong> (<em>str</em>) – The orignal array axes ordering.</p></li>
<li><p><strong>axes</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>None</em><em>]</em>) – The axes ordering as it being used from the array (may involve
permuting, dropping unused axes, and creating new axes).</p></li>
<li><p><strong>data_group</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>int</em><em>, </em><em>None</em><em>]</em>) – The group for zarr images, or key for tiff files</p></li>
<li><p><strong>roi</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>slice</em><em>, </em><em>Iterable</em><em>[</em><em>slice</em><em>]</em><em>, </em><em>None</em><em>]</em>) – Regions of interest from the input array that can be used for data
sampling.</p></li>
<li><p><strong>image_loader_func</strong> (<em>Union</em><em>[</em><em>Callable</em><em>, </em><em>None</em><em>]</em>) – A transformation applied to the input array before sampling. Could be
used to define a mask generation function. This is not a data
augmentation transform. To specify a data augmetation transform use
<cite>transform</cite> instead.</p></li>
<li><p><strong>zarr_store</strong> (<em>Union</em><em>[</em><em>zarr.storage.Store</em><em>, </em><em>None</em><em>]</em>) – A specific zarr.storage.Store class to be used to load zarr files.</p></li>
<li><p><strong>transform</strong> (<em>Union</em><em>[</em><em>Callable</em><em>, </em><em>None</em><em>]</em>) – A transform applied to the array before returning it after sampling.
This can be used to specify data augmentation transforms.</p></li>
<li><p><strong>modality</strong> (<em>str</em>) – Specifies the use of this dataset (default is <cite>images</cite> for image data).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zarrdataset.LabelsDatasetSpecs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">LabelsDatasetSpecs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Group</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.Group</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.Array</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">slice</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">slice</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_loader_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zarr_store</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.storage.Store</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_label_transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'images'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modality</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'labels'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_zarrdataset.html#LabelsDatasetSpecs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.LabelsDatasetSpecs" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#zarrdataset.DatasetSpecs" title="zarrdataset.DatasetSpecs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatasetSpecs</span></code></a></p>
<p>Specification to add <cite>labels</cite> to a ZarrDataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> (<em>Union</em><em>[</em><em>str</em><em>,</em>) – <dl class="simple">
<dt>Iterable[str],</dt><dd><p>zarr.Group,
Iterable[zarr.Group],
zarr.Array,
Iterable[zarr.Array],
np.ndarray,
Iterable[np.ndarray]]</p>
</dd>
</dl>
<p>The input source either specified by a path/url to a file or a
supported array-like object, or list of them.</p>
</p></li>
<li><p><strong>source_axes</strong> (<em>str</em>) – The orignal array axes ordering.</p></li>
<li><p><strong>axes</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>None</em><em>]</em>) – The axes ordering as it being used from the array (may involve
permuting, dropping unused axes, and creating new axes).</p></li>
<li><p><strong>data_group</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>int</em><em>, </em><em>None</em><em>]</em>) – The group for zarr images, or key for tiff files</p></li>
<li><p><strong>roi</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>slice</em><em>, </em><em>Iterable</em><em>[</em><em>slice</em><em>]</em><em>, </em><em>None</em><em>]</em>) – Regions of interest from the input array that can be used for data
sampling.</p></li>
<li><p><strong>image_loader_func</strong> (<em>Union</em><em>[</em><em>Callable</em><em>, </em><em>None</em><em>]</em>) – A transformation applied to the input array before sampling. Could be
used to define a mask generation function. This is not a data
augmentation transform. To specify a data augmetation transform use
<cite>transform</cite> instead.</p></li>
<li><p><strong>zarr_store</strong> (<em>Union</em><em>[</em><em>zarr.storage.Store</em><em>, </em><em>None</em><em>]</em>) – A specific zarr.storage.Store class to be used to load zarr files.</p></li>
<li><p><strong>transform</strong> (<em>Union</em><em>[</em><em>Callable</em><em>, </em><em>None</em><em>]</em>) – A transform applied to the array before returning it after sampling.
This can be used to specify data augmentation transforms.</p></li>
<li><p><strong>input_label_transform</strong> (<em>Union</em><em>[</em><em>Callable</em><em>, </em><em>None</em><em>]</em>) – A transform applied to the array before returning it after sampling.
This can be used to specify data augmentation transforms.</p></li>
<li><p><strong>modality</strong> (<em>str</em>) – Specifies the use of this dataset (default is <cite>labels</cite>).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zarrdataset.MasksDatasetSpecs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">MasksDatasetSpecs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Group</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.Group</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.Array</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">slice</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">slice</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_loader_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zarr_store</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.storage.Store</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modality</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'masks'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_zarrdataset.html#MasksDatasetSpecs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.MasksDatasetSpecs" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#zarrdataset.DatasetSpecs" title="zarrdataset.DatasetSpecs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatasetSpecs</span></code></a></p>
<p>Specification to add <cite>masks</cite> to a ZarrDataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> (<em>Union</em><em>[</em><em>str</em><em>,</em>) – <dl class="simple">
<dt>Iterable[str],</dt><dd><p>zarr.Group,
Iterable[zarr.Group],
zarr.Array,
Iterable[zarr.Array],
np.ndarray,
Iterable[np.ndarray]]</p>
</dd>
</dl>
<p>The input source either specified by a path/url to a file or a
supported array-like object, or list of them.</p>
</p></li>
<li><p><strong>source_axes</strong> (<em>str</em>) – The orignal array axes ordering.</p></li>
<li><p><strong>axes</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>None</em><em>]</em>) – The axes ordering as it being used from the array (may involve
permuting, dropping unused axes, and creating new axes).</p></li>
<li><p><strong>data_group</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>int</em><em>, </em><em>None</em><em>]</em>) – The group for zarr images, or key for tiff files</p></li>
<li><p><strong>roi</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>slice</em><em>, </em><em>Iterable</em><em>[</em><em>slice</em><em>]</em><em>, </em><em>None</em><em>]</em>) – Regions of interest from the input array that can be used for data
sampling.</p></li>
<li><p><strong>image_loader_func</strong> (<em>Union</em><em>[</em><em>Callable</em><em>, </em><em>None</em><em>]</em>) – A transformation applied to the input array before sampling. Could be
used to define a mask generation function. This is not a data
augmentation transform. To specify a data augmetation transform use
<cite>transform</cite> instead.</p></li>
<li><p><strong>zarr_store</strong> (<em>Union</em><em>[</em><em>zarr.storage.Store</em><em>, </em><em>None</em><em>]</em>) – A specific zarr.storage.Store class to be used to load zarr files.</p></li>
<li><p><strong>modality</strong> (<em>str</em>) – Specifies the use of this dataset (default is <cite>masks</cite>).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zarrdataset.ZarrDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">ZarrDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_specs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_sampler</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="_samplers/index.html#zarrdataset._samplers.PatchSampler" title="zarrdataset._samplers.PatchSampler"><span class="pre">zarrdataset._samplers.PatchSampler</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress_bar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_positions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">draw_same_chunk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_zarrdataset.html#ZarrDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ZarrDataset" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">torch.utils.data.IterableDataset</span></code></p>
<p>A Zarr-based dataset class capable of handling large volumes of image
data stored in OME-NGFF Zarr format. This class can match the coordinates
of the different image modalities to those in the <cite>images</cite> mode, so labels
and masks are retrieved from these same coordinates. All spatial axes are
scaled using the <cite>images</cite> mode as reference, therefore labels and masks do
not need to share the same sizes as the arrays in the <cite>images</cite> mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_specs</strong> (<em>Union</em><em>[</em><em>dict</em><em>, </em><em>Iterable</em><em>[</em><em>dict</em><em>]</em><em>, </em><em>None</em><em>]</em>) – A list of dictionaries containing the specifications of the datasets
used as inputs.</p></li>
<li><p><strong>patch_sampler</strong> (<em>Union</em><em>[</em><a class="reference internal" href="#zarrdataset.PatchSampler" title="zarrdataset.PatchSampler"><em>PatchSampler</em></a><em>, </em><em>None</em><em>]</em>) – The patch sampling algorithm used to extract patches from images.</p></li>
<li><p><strong>shuffle</strong> (<em>bool</em>) – Whether samples are extracted in order or at random.</p></li>
<li><p><strong>progress_bar</strong> (<em>bool</em>) – Display a progress bar to show the status of data initialization.
Requires <cite>tqdm</cite> to be installed in the environment.</p></li>
<li><p><strong>return_positions</strong> (<em>bool</em>) – Return the top-left positions from where the samples where extracted
along with the set of patches.</p></li>
<li><p><strong>return_worker_id</strong> (<em>bool</em>) – Return the worker id that extracted the sample.</p></li>
<li><p><strong>draw_same_chunk</strong> (<em>bool</em>) – Whether continue extracting samples from the same chunk, until
depleting the posible patches to extract, before extract samples from
a different chunk. This can be used to reduce the overhead of
retrieving different chunks when sampling patches at random locations
whithin the input image.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ZarrDataset._initialize">
<span class="sig-name descname"><span class="pre">_initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_zarrdataset.html#ZarrDataset._initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ZarrDataset._initialize" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ZarrDataset.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tlbr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_zarrdataset.html#ZarrDataset.__getitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ZarrDataset.__getitem__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ZarrDataset.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_zarrdataset.html#ZarrDataset.__iter__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ZarrDataset.__iter__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ZarrDataset.add_transform">
<span class="sig-name descname"><span class="pre">add_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modalities</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_zarrdataset.html#ZarrDataset.add_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ZarrDataset.add_transform" title="Permalink to this definition"></a></dt>
<dd><p>Add a pre-processing transform pipeline to the dataset, applied to
the arrays from modalities specified with <cite>modes</cite>. This will be
performed after any other pre-processing transforms already registered.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modalities</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Iterable</em><em>[</em><em>str</em><em>]</em><em>]</em>) – The modalities on which this transform is applied (e.g., <code class="docutils literal notranslate"><span class="pre">images</span></code>
to apply only on image arrays, or (<code class="docutils literal notranslate"><span class="pre">images</span></code>, <code class="docutils literal notranslate"><span class="pre">labels</span></code>) to apply
it to both, images and labels arrays)</p></li>
<li><p><strong>transform</strong> (<em>Callable</em>) – A function that receives the same number of inputs as specified in
<cite>modalities</cite>, and returns that same number of outputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ZarrDataset.add_modality">
<span class="sig-name descname"><span class="pre">add_modality</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modality</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filenames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Group</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.Group</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">zarr.Array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.Array</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">slice</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">slice</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_loader_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zarr_store</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">zarr.storage.Store</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transforms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">collections.OrderedDict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_to_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_zarrdataset.html#ZarrDataset.add_modality"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ZarrDataset.add_modality" title="Permalink to this definition"></a></dt>
<dd><p>Add a new modality to the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modality</strong> (<em>str</em>) – The name of the new modality added (e.g., <code class="docutils literal notranslate"><span class="pre">images</span></code>, <code class="docutils literal notranslate"><span class="pre">labels</span></code>,
<code class="docutils literal notranslate"><span class="pre">masks</span></code>, etc.).</p></li>
<li><p><strong>filenames</strong> (<em>Union</em><em>[</em><em>str</em><em>,</em>) – <dl class="simple">
<dt>Iterable[str],</dt><dd><p>zarr.Group,
Iterable[zarr.Group],
zarr.Array,
Iterable[zarr.Array],
np.ndarray,
Iterable[np.ndarray]]</p>
</dd>
</dl>
<p>The input source either specified by a path/url to a file or a
supported array-like object, or list of them.</p>
</p></li>
<li><p><strong>source_axes</strong> (<em>str</em>) – The orignal array axes ordering.</p></li>
<li><p><strong>axes</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>None</em><em>]</em>) – The axes ordering as it being used from the array (may involve
permuting, dropping unused axes, and creating new axes).</p></li>
<li><p><strong>data_group</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>int</em><em>, </em><em>None</em><em>]</em>) – The group for zarr images, or key for tiff files</p></li>
<li><p><strong>roi</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>slice</em><em>, </em><em>Iterable</em><em>[</em><em>slice</em><em>]</em><em>, </em><em>None</em><em>]</em>) – Regions of interest from the input array that can be used for data
sampling.</p></li>
<li><p><strong>image_loader_func</strong> (<em>Union</em><em>[</em><em>Callable</em><em>, </em><em>None</em><em>]</em>) – A transformation applied to the input array before sampling. Could
be used to define a mask generation function. This is not a data
augmentation transform. To specify a data augmetation transform use
<cite>transform</cite> instead.</p></li>
<li><p><strong>zarr_store</strong> (<em>Union</em><em>[</em><em>zarr.storage.Store</em><em>, </em><em>None</em><em>]</em>) – A specific zarr.storage.Store class to be used to load zarr files.</p></li>
<li><p><strong>transform</strong> (<em>Union</em><em>[</em><em>OrderedDict</em><em>, </em><em>None</em><em>]</em>) – A list of transforms applied to arrays before yielding them. This
can be used to specify data augmentation transforms, and can be
applied to this and other existing modalities in this dataset.
For example, to add a transform affecting images and labels, use
the tuple (‘images’, ‘labels’) as key for that transform, and make
sure the function associated to that key receives, and returns the
same number of inputs and ouputs as specified in the key.</p></li>
<li><p><strong>add_to_output</strong> (<em>bool</em>) – Whether add this modality to the output after sampling or not. For
example, labels would be added to the output along with the input
image array, while masks might not be needed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zarrdataset.ZarrDataset.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../../_modules/zarrdataset/_zarrdataset.html#ZarrDataset.__repr__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.ZarrDataset.__repr__" title="Permalink to this definition"></a></dt>
<dd><p>ZarrDataset string representation.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zarrdataset.zarrdataset_worker_init_fn">
<span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">zarrdataset_worker_init_fn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worker_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_zarrdataset.html#zarrdataset_worker_init_fn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.zarrdataset_worker_init_fn" title="Permalink to this definition"></a></dt>
<dd><p>ZarrDataset multithread workers initialization function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zarrdataset.chained_zarrdataset_worker_init_fn">
<span class="sig-prename descclassname"><span class="pre">zarrdataset.</span></span><span class="sig-name descname"><span class="pre">chained_zarrdataset_worker_init_fn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worker_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/zarrdataset/_zarrdataset.html#chained_zarrdataset_worker_init_fn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zarrdataset.chained_zarrdataset_worker_init_fn" title="Permalink to this definition"></a></dt>
<dd><p>ZarrDataset multithread workers initialization function for PyTorch’s
ChainedDatasets.</p>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Jackson Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>